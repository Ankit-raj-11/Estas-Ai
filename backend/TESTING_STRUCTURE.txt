â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    TESTING SUITE STRUCTURE                                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ backend/
â”‚
â”œâ”€â”€ ğŸ§ª TEST SCRIPTS (Executable)
â”‚   â”œâ”€â”€ test-api.js              â­ Node.js comprehensive test suite
â”‚   â”‚   â””â”€â”€ Features: Colored output, JSON validation, 20+ tests
â”‚   â”‚   â””â”€â”€ Usage: npm run test:api
â”‚   â”‚
â”‚   â”œâ”€â”€ test-api.sh              ğŸ§ Bash quick test script
â”‚   â”‚   â””â”€â”€ Features: No dependencies, fast, CI/CD friendly
â”‚   â”‚   â””â”€â”€ Usage: ./test-api.sh or npm run test:api:bash
â”‚   â”‚
â”‚   â”œâ”€â”€ test-api.bat             ğŸªŸ Windows batch test script
â”‚   â”‚   â””â”€â”€ Features: Native Windows, CMD compatible
â”‚   â”‚   â””â”€â”€ Usage: test-api.bat or npm run test:api:windows
â”‚   â”‚
â”‚   â””â”€â”€ setup-test-env.sh        ğŸ”§ Environment setup & validation
â”‚       â””â”€â”€ Features: Checks dependencies, services, config
â”‚       â””â”€â”€ Usage: bash setup-test-env.sh
â”‚
â”œâ”€â”€ ğŸ“š DOCUMENTATION
â”‚   â”œâ”€â”€ TESTING_README.md        ğŸ“– Main testing documentation (START HERE)
â”‚   â”‚   â””â”€â”€ Complete guide with all information
â”‚   â”‚
â”‚   â”œâ”€â”€ TEST_GUIDE.md            ğŸ“˜ Detailed testing guide
â”‚   â”‚   â””â”€â”€ Test descriptions, troubleshooting, examples
â”‚   â”‚
â”‚   â”œâ”€â”€ TESTING_QUICK_START.md   âš¡ Quick reference card
â”‚   â”‚   â””â”€â”€ Quick commands, common issues, checklists
â”‚   â”‚
â”‚   â”œâ”€â”€ TEST_FILES_SUMMARY.md    ğŸ“‹ Files overview
â”‚   â”‚   â””â”€â”€ What each file does, when to use it
â”‚   â”‚
â”‚   â””â”€â”€ TESTING_COMPLETE.md      âœ… Setup completion summary
â”‚       â””â”€â”€ What was created, next steps
â”‚
â”œâ”€â”€ ğŸ”„ UPDATED FILES
â”‚   â”œâ”€â”€ package.json             Added test scripts
â”‚   â”œâ”€â”€ README.md                Added testing section
â”‚   â””â”€â”€ workflows/WORKFLOW_CHANGES.md  Workflow documentation
â”‚
â””â”€â”€ ğŸ“Š TEST COVERAGE
    â”œâ”€â”€ Health Checks            âœ“ Backend, Kestra
    â”œâ”€â”€ Scan Endpoints           âœ“ Initiate, Status, Validation
    â”œâ”€â”€ GitHub Integration       âœ“ Branch, PR, Commit
    â”œâ”€â”€ AI Fix Generation        âœ“ Fix endpoint, Validation
    â”œâ”€â”€ Webhook Handling         âœ“ Kestra callbacks
    â”œâ”€â”€ Workflow Integration     âœ“ Execution, Monitoring
    â””â”€â”€ Error Handling           âœ“ 404, 400, Invalid JSON

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         QUICK START GUIDE                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1ï¸âƒ£  INSTALL DEPENDENCIES
    npm install

2ï¸âƒ£  START SERVICES
    Terminal 1: npm start
    Terminal 2: docker run -p 8080:8080 kestra/kestra:latest

3ï¸âƒ£  RUN TESTS
    npm run test:api              (Node.js - recommended)
    npm run test:api:windows      (Windows batch)
    npm run test:api:bash         (Bash)

4ï¸âƒ£  VIEW RESULTS
    Console output shows pass/fail
    Check logs/combined.log for details

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         TEST COMMANDS                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Command                 â”‚ Description                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ npm run test:api        â”‚ Full Node.js test suite (best output)           â”‚
â”‚ npm run test:api:bash   â”‚ Quick bash test (Linux/Mac)                     â”‚
â”‚ npm run test:api:windowsâ”‚ Quick Windows test (CMD)                        â”‚
â”‚ npm run test:quick      â”‚ Alias for test:api                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         DOCUMENTATION MAP                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Need                        â”‚ Read This File                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Getting started             â”‚ TESTING_README.md                            â”‚
â”‚ Quick commands              â”‚ TESTING_QUICK_START.md                       â”‚
â”‚ Detailed guide              â”‚ TEST_GUIDE.md                                â”‚
â”‚ File descriptions           â”‚ TEST_FILES_SUMMARY.md                        â”‚
â”‚ What was created            â”‚ TESTING_COMPLETE.md                          â”‚
â”‚ Troubleshooting             â”‚ TEST_GUIDE.md (Troubleshooting section)      â”‚
â”‚ CI/CD integration           â”‚ TEST_GUIDE.md (CI/CD section)                â”‚
â”‚ Manual testing              â”‚ TEST_GUIDE.md (Manual Testing section)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         TEST SUITES                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Health Checks
   â”œâ”€â”€ Backend Server Health
   â”œâ”€â”€ Health Endpoint
   â””â”€â”€ Kestra Server Health

2. Scan Endpoints
   â”œâ”€â”€ Initiate Scan - Invalid Data
   â”œâ”€â”€ Initiate Scan - Valid Data
   â”œâ”€â”€ Get Scan Status
   â””â”€â”€ Get Non-existent Scan

3. GitHub Endpoints
   â”œâ”€â”€ Create Branch - Invalid Data
   â”œâ”€â”€ Create PR - Invalid Data
   â””â”€â”€ Commit Changes - Invalid Data

4. Fix Endpoint
   â”œâ”€â”€ Fix Issue - Invalid Data
   â””â”€â”€ Fix Issue - Valid Data

5. Webhook Endpoint
   â”œâ”€â”€ Kestra Webhook - Valid Data
   â””â”€â”€ Kestra Webhook - No ScanId

6. Kestra Workflow Integration
   â”œâ”€â”€ Kestra Execution Exists
   â”œâ”€â”€ Monitor Execution Status
   â””â”€â”€ Workflow Definition Exists

7. Error Handling
   â”œâ”€â”€ 404 Not Found
   â””â”€â”€ Invalid JSON Handling

Total: 20+ Tests

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         CONFIGURATION                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Environment Variables:
â”œâ”€â”€ BASE_URL          â†’ http://localhost:3000 (Backend URL)
â”œâ”€â”€ KESTRA_URL        â†’ http://localhost:8080 (Kestra URL)
â”œâ”€â”€ TEST_REPO         â†’ https://github.com/octocat/Hello-World
â””â”€â”€ TEST_BRANCH       â†’ master

Windows Example:
    set BASE_URL=http://localhost:4000
    npm run test:api

Linux/Mac Example:
    export BASE_URL=http://localhost:4000
    npm run test:api

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         TROUBLESHOOTING                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Issue: Backend not responding
â””â”€â†’ Solution: npm start

Issue: Kestra not responding
â””â”€â†’ Solution: docker run -p 8080:8080 kestra/kestra:latest

Issue: Workflow not found
â””â”€â†’ Solution: Deploy workflow in Kestra UI

Issue: GitHub auth failed
â””â”€â†’ Solution: Check GITHUB_TOKEN in .env

Issue: AI API error
â””â”€â†’ Solution: Check AI_API_KEY in .env

For detailed troubleshooting, see TEST_GUIDE.md

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         SUCCESS OUTPUT                                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

When all tests pass, you'll see:

    ============================================================
      Test Summary
    ============================================================

    Total Tests: 20
    Passed: 20
    Failed: 0
    Skipped: 0
    Pass Rate: 100.00%

    âœ“ All tests passed! ğŸ‰

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         USEFUL URLS                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Backend:
â”œâ”€â”€ Root:          http://localhost:3000
â”œâ”€â”€ Health:        http://localhost:3000/api/health
â””â”€â”€ API Docs:      See README.md

Kestra:
â”œâ”€â”€ UI:            http://localhost:8080/ui
â”œâ”€â”€ API:           http://localhost:8080/api/v1
â”œâ”€â”€ Health:        http://localhost:8080/api/v1/health
â””â”€â”€ Workflow:      http://localhost:8080/ui/flows/company.team/security-scan-flow

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         NEXT STEPS                                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 1. Read TESTING_README.md
âœ… 2. Install dependencies: npm install
âœ… 3. Configure .env file
âœ… 4. Start backend: npm start
âœ… 5. Start Kestra: docker run -p 8080:8080 kestra/kestra:latest
âœ… 6. Deploy workflow in Kestra UI
âœ… 7. Run tests: npm run test:api
âœ… 8. Review results and logs

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    YOU'RE ALL SET! ğŸ‰                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Start testing now: npm run test:api
